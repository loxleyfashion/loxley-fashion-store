<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loxley Fashion - Product</title>
<link rel="stylesheet" href="css/style.css">
<style>
body { font-family: 'Playfair Display', serif; background: #fff; color: #111; margin:0; }
header { display:flex; justify-content:space-between; padding:1rem 2rem; border-bottom:1px solid #ddd; }
.product-container { max-width: 1000px; margin:2rem auto; display:flex; gap:2rem; flex-wrap:wrap; }
.product-images { flex:1; display:flex; flex-direction:column; gap:1rem; }
.product-images img { width:100%; border-radius:10px; transition: transform .3s; cursor:pointer; }
.product-images img:hover { transform: scale(1.05); }
.product-info { flex:1; display:flex; flex-direction:column; gap:1rem; }
.product-info h2 { font-size:2rem; margin:0; }
.product-info span { font-size:1.5rem; font-weight:bold; }
.buy-btn { padding:1rem; background:black; color:white; border:none; border-radius:12px; cursor:pointer; font-size:1rem; transition:.3s; }
.buy-btn:hover { background:#333; }
</style>
</head>
<body>

<header>
  <h1>Loxley Fashion</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
  </nav>
</header>

<main>
<div class="product-container">
  <div class="product-images" id="imageContainer"></div>
  <div class="product-info">
    <h2 id="productName"></h2>
    <span id="productPrice"></span>
    <select id="productSize">
      <option value="S">Small</option>
      <option value="M">Medium</option>
      <option value="L">Large</option>
      <option value="XL">XL</option>
    </select>
    <button class="buy-btn" id="buyBtn">Buy Now</button>
  </div>
</div>
</main>

<script src="js/products.js"></script>
<script>
(async ()=>{
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");
  const products = await getProducts();
  const product = products.find(p => p.id === id);
  if(!product) { document.body.innerHTML = "<h2>Product Not Found</h2>"; return; }

  const imgContainer = document.getElementById("imageContainer");
  product.images.forEach(src=>{
    const img = document.createElement("img");
    img.src = src;
    imgContainer.appendChild(img);
  });

  document.getElementById("productName").textContent = product.name;
  document.getElementById("productPrice").textContent = `â‚¹${product.price}`;

  document.getElementById("buyBtn").addEventListener("click", ()=>{
    const size = document.getElementById("productSize").value;
    window.location.href = `checkout.html?product=${encodeURIComponent(product.name)}&price=${product.price}&size=${size}`;
  });
})();
</script>
</body>
</html>
